{"version":3,"file":"form.js","sources":["../src/js/form.js"],"sourcesContent":["const Form = {\n  DATA_KEY: 'form_data_key',\n  formData: {\n    email: '',\n    message: '',\n  },\n  init() {\n    this.initialValues();\n    this.hangListener(this.formEl, 'submit', this.onFormSubmit.bind(this));\n  },\n  savetoLocalStorage(data, key) {\n    localStorage.setItem(key, JSON.stringify(data));\n  },\n  loadFromLocalStorage(key) {\n    try {\n      const parsedData = localStorage.getItem(key);\n      if (!parsedData) return;\n      return JSON.parse(parsedData);\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  initialValues() {\n    const parsedData = this.loadFromLocalStorage(this.DATA_KEY);\n    if (typeof parsedData !== 'object' || !this.formEl) return;\n\n    this.formEl.elements.email.value = parsedData.email;\n    this.formEl.elements.message.value = parsedData.message;\n  },\n  hangListener(el = document, evt = 'click', cb = () => {}) {\n    el.addEventListener(evt, cb);\n  },\n  onFormSubmit(e) {\n    e.preventDefault();\n    const { elements } = e.currentTarget;\n    this.email = elements.email.value;\n    this.message = elements.message.value;\n\n    console.log(this.data);\n    this.savetoLocalStorage(this.data, this.DATA_KEY);\n    e.currentTarget.reset();\n  },\n  get formEl() {\n    return document.querySelector('.feedback-form') ?? null;\n  },\n  get email() {\n    return this.formData.email;\n  },\n  set email(value) {\n    this.formData.email = value;\n  },\n  get message() {\n    return this.formData.message;\n  },\n  set message(value) {\n    this.formData.message = value;\n  },\n  get data() {\n    return { ...this.formData };\n  },\n};\n\nForm.init();\n"],"names":["Form","data","key","parsedData","error","el","evt","cb","elements","value"],"mappings":"oCAAA,MAAMA,EAAO,CACX,SAAU,gBACV,SAAU,CACR,MAAO,GACP,QAAS,EACV,EACD,MAAO,CACL,KAAK,cAAa,EAClB,KAAK,aAAa,KAAK,OAAQ,SAAU,KAAK,aAAa,KAAK,IAAI,CAAC,CACtE,EACD,mBAAmBC,EAAMC,EAAK,CAC5B,aAAa,QAAQA,EAAK,KAAK,UAAUD,CAAI,CAAC,CAC/C,EACD,qBAAqBC,EAAK,CACxB,GAAI,CACF,MAAMC,EAAa,aAAa,QAAQD,CAAG,EAC3C,OAAKC,EACE,KAAK,MAAMA,CAAU,EADX,MAElB,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACF,EACD,eAAgB,CACd,MAAMD,EAAa,KAAK,qBAAqB,KAAK,QAAQ,EACtD,OAAOA,GAAe,UAAY,CAAC,KAAK,SAE5C,KAAK,OAAO,SAAS,MAAM,MAAQA,EAAW,MAC9C,KAAK,OAAO,SAAS,QAAQ,MAAQA,EAAW,QACjD,EACD,aAAaE,EAAK,SAAUC,EAAM,QAASC,EAAK,IAAM,GAAI,CACxDF,EAAG,iBAAiBC,EAAKC,CAAE,CAC5B,EACD,aAAa,EAAG,CACd,EAAE,eAAc,EAChB,KAAM,CAAE,SAAAC,CAAQ,EAAK,EAAE,cACvB,KAAK,MAAQA,EAAS,MAAM,MAC5B,KAAK,QAAUA,EAAS,QAAQ,MAEhC,QAAQ,IAAI,KAAK,IAAI,EACrB,KAAK,mBAAmB,KAAK,KAAM,KAAK,QAAQ,EAChD,EAAE,cAAc,OACjB,EACD,IAAI,QAAS,CACX,OAAO,SAAS,cAAc,gBAAgB,GAAK,IACpD,EACD,IAAI,OAAQ,CACV,OAAO,KAAK,SAAS,KACtB,EACD,IAAI,MAAMC,EAAO,CACf,KAAK,SAAS,MAAQA,CACvB,EACD,IAAI,SAAU,CACZ,OAAO,KAAK,SAAS,OACtB,EACD,IAAI,QAAQA,EAAO,CACjB,KAAK,SAAS,QAAUA,CACzB,EACD,IAAI,MAAO,CACT,MAAO,CAAE,GAAG,KAAK,SAClB,CACH,EAEAT,EAAK,KAAM"}